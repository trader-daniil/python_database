# Database App

Проект База данных с транзакциями, [схема работа](https://drive.google.com/file/d/1s2gsedvEVriljq_q5XXOPa2KYZtbxn2p/view?usp=drive_link)

# Запуск

Для запуска приложения преейдите на один уровень с файлом `database.py` и введите команду

``` shell
python database.py
```

# Управление

Вы можете управлять базой данных с помощью команд:

- `SET` - сохраняет аргумент в базе данных.
- `GET` - возвращает, ранее сохраненную переменную. Если такой переменной
не было сохранено, возвращает NULL
- `UNSET` - удаляет, ранее установленную переменную. Если значение не было
установлено, не делает ничего.
- `COUNTS` - показывает сколько раз данные значение встречается в базе данных.
- `FIND` - выводит найденные установленные переменные для данного значения.
- `END` - закрывает приложение

# Транзакции

Вы можете создавать [транзакции](https://habr.com/ru/articles/537594/) для одноврменнего выполнения нескольких команд, то есть либо все либо ни одна

Также Вы можеет создавать вложенные транзакции, то есть создали одну, затем внутри нее создаете другую, при завершении тразакции вначале завершится наиболее вложенная

Управление тразакциями:

- `BEGIN` - начало транзакции.
- `ROLLBACK` - откат текущей (самой внутренней) транзакции
- `COMMIT` - фиксация изменений текущей (самой внутренней) транзакции

# Тестирование

В проекте созданы тесты с бибилиотекой [pytest](https://docs.pytest.org/en/stable/getting-started.html)

Для запуска тестов создайте [виртуальное окружение](https://docs.python.org/3/library/venv.html), активируйте его, затем скачайте зависимости `pip install -r requirements.txt`

Для запуска тестов введите команду 

``` shell
pytest -q test_database.py 
```